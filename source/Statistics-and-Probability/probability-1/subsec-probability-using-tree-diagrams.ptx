<subsection xml:id="subsec-probability-using-tree-diagrams" xmlns:xi="http://www.w3.org/2001/XInclude">
    <title>Probability Using Tree Diagrams</title>

    <activity>
        <introduction>
            <p>
                <term>Work in pairs</term>
            </p>
            <p>
                A bag contains <m>5</m> green balls and <m>3</m> red balls, making <m>8</m> balls in total. You will pick three balls one at a time without putting any back.
            </p>
        </introduction>
        <task>
            <statement>
                <p>
                    Draw a starting point and create two branches to show the two possible colours that could be selected first. Label each branch with the probability of selecting that colour based on the number of balls in the bag at the beginning.
                </p>
            </statement>
        </task>
        <task>
            <statement>
                <p>
                    From the branch that represents selecting a red ball first, draw two new branches to show the possible outcomes for the second pick. Think carefully about how the total number of balls and the number of red balls have changed after removing one red ball, and label the branches using the new probabilities.
                </p>
            </statement>
        </task>
        <task>
            <statement>
                <p>
                    From the branch that represents selecting red on both the first and second picks, draw the final set of branches for the third pick. Determine how many balls remain in total and how many red balls are still available, and use this information to label the branches correctly.
                </p>
            </statement>
        </task>
        <task>
            <statement>
                <p>
                    Trace the path that represents picking a red ball in all three draws. Describe what happens to the numerators and denominators of the probabilities as you move along this path and explain why these changes occur.
                </p>
            </statement>
        </task>
        <task>
            <statement>
                <p>
                    Use the rule for finding the probability of successive events by multiplying the probabilities along a single branch. Write out the multiplication clearly and simplify your result.
                </p>
            </statement>
        </task>
    </activity>

    <insight xml:id="insight-tree-rules">
        <p>
            A <term>Probability Tree Diagram</term> is a visual way to organize and calculate probabilities for multiple events happening one after another. 
        </p>
        <p>
            Here are the golden rules for using tree diagrams:
            <ul>
                <li>
                    <p>
                        <alert>Branches from the same point add to <m>1</m>:</alert> The probabilities of all branches originating from a single node must always add up to exactly <m>1</m> (or <m>100\%</m>), because they represent all possible outcomes for that specific event.
                    </p>
                </li>
                <li>
                    <p>
                        <alert>Multiply along the branches (The "AND" Rule):</alert> To find the probability of a sequence of events (e.g., Event A <term>and</term> then Event B), you multiply the probabilities along the path.
                    </p>
                </li>
                <li>
                    <p>
                        <alert>Add down the columns (The "OR" Rule):</alert> To find the overall probability of different paths that lead to a successful outcome (e.g., Path 1 <term>or</term> Path 2), you add their final probabilities together.
                    </p>
                </li>
            </ul>
        </p>
    </insight>

    <example xml:id="example-independent-tree">
        <statement>
            <p>
                A fair coin is tossed twice. Draw a tree diagram to represent this information and use it to find the probability of getting two Heads.
            </p>
        </statement>
        <solution>
            <p>
                The events are independent because the result of the first toss does not affect the second toss. The probability of getting a Head (H) or Tail (T) is always <m>0.5</m>.
            </p>
            <image xml:id="tikz-coin-toss">
                <latex-image>
                    \begin{tikzpicture}[grow=right, sloped, level 1/.style={sibling distance=3cm, level distance=3.5cm}, level 2/.style={sibling distance=1.5cm, level distance=3.5cm}]
                      \node {}
                        child { node {Tail (T)}
                          child { node {Tail (T,T)} edge from parent node[below] {$0.5$} }
                          child { node {Head (T,H)} edge from parent node[above] {$0.5$} }
                          edge from parent node[below] {$0.5$}
                        }
                        child { node {Head (H)}
                          child { node {Tail (H,T)} edge from parent node[below] {$0.5$} }
                          child { node {Head (H,H)} edge from parent node[above] {$0.5$} }
                          edge from parent node[above] {$0.5$}
                        };
                    \end{tikzpicture}
                </latex-image>
            </image>
            <p>
                To find the probability of getting two Heads (H,H), we trace the top path and multiply the probabilities along the branches:
            </p>
            <p>
                <m>P(H \text{ and } H) = 0.5 \times 0.5 = 0.25</m>
            </p>
        </solution>
    </example>

    <example xml:id="example-dependent-tree">
        <statement>
            <p>
                A bag contains <m>5</m> Red marbles and <m>3</m> Blue marbles. Two marbles are drawn at random <term>without replacement</term>. Draw a tree diagram and find the probability of drawing two marbles of the same color.
            </p>
        </statement>
        <solution>
            <p>
                Because the marbles are not replaced, the total number of marbles drops from <m>8</m> to <m>7</m> for the second draw.
            </p>
            <image xml:id="tikz-marbles">
                <latex-image>
                    \begin{tikzpicture}[grow=right, sloped, level 1/.style={sibling distance=4cm, level distance=3.5cm}, level 2/.style={sibling distance=2cm, level distance=3.5cm}]
                      \node {}
                        child { node {Blue}
                          child { node {Blue (B,B)} edge from parent node[below] {$\frac{2}{7}$} }
                          child { node {Red (B,R)} edge from parent node[above] {$\frac{5}{7}$} }
                          edge from parent node[below] {$\frac{3}{8}$}
                        }
                        child { node {Red}
                          child { node {Blue (R,B)} edge from parent node[below] {$\frac{3}{7}$} }
                          child { node {Red (R,R)} edge from parent node[above] {$\frac{4}{7}$} }
                          edge from parent node[above] {$\frac{5}{8}$}
                        };
                    \end{tikzpicture}
                </latex-image>
            </image>
            <p>
                We need the probability of (Red AND Red) OR (Blue AND Blue).
            </p>
            <p>
                <m>P(R, R) = \frac{5}{8} \times \frac{4}{7} = \frac{20}{56}</m>
            </p>
            <p>
                <m>P(B, B) = \frac{3}{8} \times \frac{2}{7} = \frac{6}{56}</m>
            </p>
            <p>
                Adding the outcomes together (since they are mutually exclusive):
                <m>P(\text{Same Color}) = \frac{20}{56} + \frac{6}{56} = \frac{26}{56} = \frac{13}{28}</m>
            </p>
        </solution>
    </example>

    <example xml:id="example-coach-tree">
        <statement>
            <p>
                You are on a football team. There is a <m>0.6</m> chance that Sam will be the coach today, and a <m>0.4</m> chance it will be Alex. 
                If Sam is coach, the chance of you being the Goalkeeper is <m>0.5</m>. If Alex is coach, the chance of you being Goalkeeper is <m>0.3</m>. 
                What is the overall probability that you will be the Goalkeeper today?
            </p>
        </statement>
        <solution>
            <image xml:id="tikz-coach-goalie">
                <latex-image>
                    \begin{tikzpicture}[grow=right, sloped, level 1/.style={sibling distance=3cm, level distance=4cm}, level 2/.style={sibling distance=1.5cm, level distance=4cm}]
                      \node {}
                        child { node {Alex}
                          child { node {No Goalie} edge from parent node[below] {$0.7$} }
                          child { node {Goalie} edge from parent node[above] {$0.3$} }
                          edge from parent node[below] {$0.4$}
                        }
                        child { node {Sam}
                          child { node {No Goalie} edge from parent node[below] {$0.5$} }
                          child { node {Goalie} edge from parent node[above] {$0.5$} }
                          edge from parent node[above] {$0.6$}
                        };
                    \end{tikzpicture}
                </latex-image>
            </image>
            <p>
                There are two successful paths where you end up as the Goalkeeper:
                <ol>
                    <li>Sam is coach AND you are Goalie: <m>0.6 \times 0.5 = 0.3</m></li>
                    <li>Alex is coach AND you are Goalie: <m>0.4 \times 0.3 = 0.12</m></li>
                </ol>
            </p>
            <p>
                Add the probabilities of these two paths together:
                <m>0.3 + 0.12 = 0.42</m>. 
            </p>
            <p>
                There is a <m>42\%</m> chance you will be the Goalkeeper today.
            </p>
        </solution>
    </example>

    <example xml:id="example-farming-tree">
        <statement>
            <p>
                A farmer in Eldoret is planting maize. The probability that there will be adequate rain this season is <m>0.7</m>. 
                If it rains, the probability of a good harvest is <m>0.8</m>. If it does not rain, the probability of a good harvest drops to <m>0.2</m>.
                Calculate the probability that the farmer will have a good harvest.
            </p>
        </statement>
        <solution>
            <image xml:id="tikz-harvest">
                <latex-image>
                    \begin{tikzpicture}[grow=right, sloped, level 1/.style={sibling distance=3.5cm, level distance=4cm}, level 2/.style={sibling distance=1.5cm, level distance=4cm}]
                      \node {}
                        child { node {No Rain}
                          child { node {Bad Harvest} edge from parent node[below] {$0.8$} }
                          child { node {Good Harvest} edge from parent node[above] {$0.2$} }
                          edge from parent node[below] {$0.3$}
                        }
                        child { node {Rain}
                          child { node {Bad Harvest} edge from parent node[below] {$0.2$} }
                          child { node {Good Harvest} edge from parent node[above] {$0.8$} }
                          edge from parent node[above] {$0.7$}
                        };
                    \end{tikzpicture}
                </latex-image>
            </image>
            <p>
                To find the probability of a Good Harvest, we calculate the probabilities of the two paths that lead to it:
            </p>
            <p>
                Path 1 (Rain AND Good): <m>0.7 \times 0.8 = 0.56</m>
            </p>
            <p>
                Path 2 (No Rain AND Good): <m>0.3 \times 0.2 = 0.06</m>
            </p>
            <p>
                Overall probability of a good harvest = <m>0.56 + 0.06 = 0.62</m>.
            </p>
        </solution>
    </example>

    <exercises xml:id="exercises-probability-trees">
        <exercise>
            <statement>
                <p>
                    A spinner has <m>3</m> equal sections colored Red, Green, and Yellow. You spin it twice. Draw a tree diagram and find the probability that the spinner lands on Red both times.
                </p>
            </statement>
            <answer>
                <p>
                    The probability of Red on any spin is <m>\frac{1}{3}</m>. 
                </p>
                <p>
                    <m>P(\text{Red and Red}) = \frac{1}{3} \times \frac{1}{3} = \frac{1}{9}</m>.
                </p>
            </answer>
        </exercise>

        <exercise>
            <statement>
                <p>
                    A jar contains <m>4</m> orange sweets and <m>6</m> lemon sweets. Sarah takes one sweet at random, eats it, and then takes another one. Calculate the probability that she eats two sweets of different flavors.
                </p>
            </statement>
            <answer>
                <p>
                    Total sweets initially = <m>10</m>. This is without replacement.
                </p>
                <p>
                    Path 1 (Orange, then Lemon): <m>\frac{4}{10} \times \frac{6}{9} = \frac{24}{90}</m>
                </p>
                <p>
                    Path 2 (Lemon, then Orange): <m>\frac{6}{10} \times \frac{4}{9} = \frac{24}{90}</m>
                </p>
                <p>
                    Total probability = <m>\frac{24}{90} + \frac{24}{90} = \frac{48}{90} = \frac{8}{15}</m>.
                </p>
            </answer>
        </exercise>

        <exercise>
            <statement>
                <p>
                    Juma can commute to work by bus or by matatu. The probability he takes a bus is <m>0.6</m>. If he takes the bus, the probability he is late is <m>0.2</m>. If he takes a matatu, the probability he is late is <m>0.3</m>. What is the probability Juma arrives on time?
                </p>
            </statement>
            <answer>
                <p>
                    Probability of taking a matatu = <m>1 - 0.6 = 0.4</m>.
                </p>
                <p>
                    Probability of being on time if bus = <m>1 - 0.2 = 0.8</m>.
                </p>
                <p>
                    Probability of being on time if matatu = <m>1 - 0.3 = 0.7</m>.
                </p>
                <p>
                    Path 1 (Bus and On Time) = <m>0.6 \times 0.8 = 0.48</m>
                </p>
                <p>
                    Path 2 (Matatu and On Time) = <m>0.4 \times 0.7 = 0.28</m>
                </p>
                <p>
                    Total probability = <m>0.48 + 0.28 = 0.76</m>.
                </p>
            </answer>
        </exercise>

        <exercise>
            <statement>
                <p>
                    A student is taking a Math exam and a Science exam. The probability of passing Math is <m>0.7</m>. If the student passes Math, the probability of passing Science is <m>0.8</m>. If the student fails Math, the probability of passing Science drops to <m>0.4</m>. Calculate the probability that the student passes exactly one exam.
                </p>
            </statement>
            <answer>
                <p>
                    Passing exactly one exam means either (Pass Math AND Fail Science) OR (Fail Math AND Pass Science).
                </p>
                <p>
                    Path 1 (Pass Math, Fail Science): <m>0.7 \times (1 - 0.8) = 0.7 \times 0.2 = 0.14</m>
                </p>
                <p>
                    Path 2 (Fail Math, Pass Science): <m>(1 - 0.7) \times 0.4 = 0.3 \times 0.4 = 0.12</m>
                </p>
                <p>
                    Total probability = <m>0.14 + 0.12 = 0.26</m>.
                </p>
            </answer>
        </exercise>

        <exercise>
            <statement>
                <p>
                    A school committee is being chosen from a group of <m>3</m> teachers and <m>5</m> students. Two members are selected at random, one after the other. Find the probability that the committee contains at least one teacher.
                </p>
            </statement>
            <answer>
                <p>
                    "At least one teacher" is easiest to calculate by finding the probability of "No teachers" (meaning Student AND Student) and subtracting from <m>1</m>.
                </p>
                <p>
                    Total people = <m>8</m>. 
                </p>
                <p>
                    <m>P(\text{Student, Student}) = \frac{5}{8} \times \frac{4}{7} = \frac{20}{56} = \frac{5}{14}</m>.
                </p>
                <p>
                    <m>P(\text{At least one teacher}) = 1 - \frac{5}{14} = \frac{9}{14}</m>.
                </p>
            </answer>
        </exercise>

        <exercise>
            <statement>
                <p>
                    In a phone manufacturing plant, Machine A produces <m>60\%</m> of the phones, while Machine B produces <m>40\%</m>. Historically, <m>5\%</m> of the phones from Machine A are defective, and <m>2\%</m> of the phones from Machine B are defective. If a phone is chosen at random, what is the probability that it is defective?
                </p>
            </statement>
            <answer>
                <p>
                    Path 1 (Machine A and Defective) = <m>0.60 \times 0.05 = 0.030</m>
                </p>
                <p>
                    Path 2 (Machine B and Defective) = <m>0.40 \times 0.02 = 0.008</m>
                </p>
                <p>
                    Total probability = <m>0.030 + 0.008 = 0.038</m> (or <m>3.8\%</m>).
                </p>
            </answer>
        </exercise>
    </exercises>
    <exercise xml:id="auto_taeqw3ic" label="ex-determining-the-probability-of-independent-events">
        <stack label="stk-determining-the-probability-of-independent-events" source="stack/top/3-0-Statistics-Probability/Probability-1/Tree-Diagrams-and-Independent-Events/Determining-the-probability-of-independent-events.xml" />
    </exercise>
    <exercise xml:id="auto_zjf7fviq" label="ex-example-of-tree-diagram">
        <stack label="stk-example-of-tree-diagram" source="stack/top/3-0-Statistics-Probability/Probability-1/Tree-Diagrams-and-Independent-Events/example-of-tree-diagram.xml" />
    </exercise>
</subsection>